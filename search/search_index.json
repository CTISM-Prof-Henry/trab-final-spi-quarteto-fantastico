{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Guia de Instala\u00e7\u00e3o e Execu\u00e7\u00e3o Local","text":"<p>Este guia descreve o passo a passo para configurar e executar o projeto em um ambiente de desenvolvimento local. --- API dispon\u00edvel em <code>https://github.com/thiagocalegaro/room-booking-api</code>f</p>"},{"location":"#1-pre-requisitos","title":"1. Pr\u00e9-requisitos","text":"<ul> <li>Node.js (vers\u00e3o 18.x ou superior)</li> <li>Docker e Docker Compose (Op\u00e7\u00e3o A) OU PostgreSQL instalado localmente (Op\u00e7\u00e3o B)</li> </ul>"},{"location":"#2-configuracao-do-banco-de-dados","title":"2. Configura\u00e7\u00e3o do Banco de Dados","text":"<p>Escolha uma das op\u00e7\u00f5es.</p>"},{"location":"#opcao-a-docker-recomendado","title":"Op\u00e7\u00e3o A: Docker (Recomendado)","text":"<ol> <li> <p>Na raiz do projeto, crie o arquivo <code>docker-compose.yml</code>:</p> <pre><code>version: '3.8'\nservices:\n  postgres-db:\n    image: postgres:15\n    container_name: agendamento-postgres\n    restart: always\n    environment:\n      POSTGRES_USER: admin\n      POSTGRES_PASSWORD: admin\n      POSTGRES_DB: agendamento_db\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - agendamento-db-data:/var/lib/postgresql/data\n\nvolumes:\n  agendamento-db-data:\n</code></pre> </li> <li> <p>Inicie o banco de dados:</p> <pre><code>docker-compose up -d\n</code></pre> </li> </ol>"},{"location":"#opcao-b-instalacao-local-do-postgresql","title":"Op\u00e7\u00e3o B: Instala\u00e7\u00e3o Local do PostgreSQL","text":"<ol> <li>Instale o PostgreSQL em sua m\u00e1quina. Durante a instala\u00e7\u00e3o, defina uma senha para o usu\u00e1rio <code>postgres</code>.</li> <li>Use o pgAdmin 4 (instalado junto) para criar um novo banco de dados chamado <code>agendamento_db</code>.</li> </ol>"},{"location":"#3-configuracao-do-backend-api","title":"3. Configura\u00e7\u00e3o do Backend (API)","text":"<ol> <li> <p>Na raiz do projeto, crie o arquivo <code>.env</code> e ajuste <code>DB_PASSWORD</code> se estiver usando a instala\u00e7\u00e3o local:</p> <pre><code>DB_HOST=localhost\nDB_PORT=5432\nDB_USERNAME=admin\nDB_PASSWORD=admin\nDB_DATABASE=agendamento_db\nJWT_SECRET=SEGREDO_SUPER_SECRETO_PARA_TESTES\n</code></pre> </li> <li> <p>Instale as depend\u00eancias:     <pre><code>npm install\n</code></pre></p> </li> <li> <p>Inicie a API (deixe este terminal rodando):     <pre><code>npm run start:dev\n</code></pre></p> </li> </ol>"},{"location":"#4-executando-o-frontend","title":"4. Executando o Frontend","text":"<p>Abra o arquivo <code>.html</code>, clonado do repostit\u00f3rio <code>https://github.com/CTISM-Prof-Henry/trab-final-spi-quarteto-fantastico</code>, no navegador</p>"},{"location":"modelo-er/","title":"Modelo Entidade-Relacionamento (ER)","text":"<pre><code>USUARIO {\n    int id_usuario PK\n    varchar nome\n    varchar email\n    varchar senha\n    varchar tipo\n}\n\nAGENDAMENTO {\n    int id_agendamento PK\n    int id_usuario FK\n    varchar codigo_sala FK\n    date data\n    time hora_inicio\n    time hora_fim\n}\n\nSALA {\n    varchar codigo PK\n    int capacidade\n    varchar bloco\n    varchar tipo\n    time horario_abertura\n    time horario_fechamento\n    boolean disponivel_sabado\n    boolean disponivel_domingo\n    boolean ativa\n    varchar foto_url\n}\n\nEXCECAO {\n    int id_excecao PK\n    varchar codigo_sala FK\n    datetime data_hora_inicio\n    datetime data_hora_fim\n    enum tipo\n    varchar motivo\n}\n\nRECURSO {\n    int id_recurso PK\n    varchar nome_recurso\n}\n\nSALA_RECURSO {\n    varchar codigo_sala FK\n    int id_recurso FK\n    int quantidade\n}\n\nUSUARIO ||--o{ AGENDAMENTO : realiza\nSALA ||--o{ AGENDAMENTO : recebe\nSALA ||--o{ EXCECAO : possui\nSALA ||--|{ SALA_RECURSO : possui\nRECURSO ||--|{ SALA_RECURSO : \u00e9_atribu\u00eddo_a\n</code></pre>"},{"location":"api/agendamentos/","title":"API: Agendamentos","text":""},{"location":"api/agendamentos/#criar-agendamento-unico","title":"Criar Agendamento \u00danico","text":"<ul> <li>Endpoint: <code>POST /agendamentos</code></li> <li>Autentica\u00e7\u00e3o: Token de qualquer usu\u00e1rio.</li> <li>Corpo da Requisi\u00e7\u00e3o: <pre><code>{\n  \"id_usuario\": 1,\n  \"codigo_sala\": \"B205\",\n  \"data\": \"2025-10-20\",\n  \"hora_inicio\": \"14:00\",\n  \"hora_fim\": \"15:30\"\n}\n</code></pre></li> </ul>"},{"location":"api/agendamentos/#criar-agendamento-recorrente","title":"Criar Agendamento Recorrente","text":"<ul> <li>Endpoint: <code>POST /agendamentos/recorrente</code></li> <li>Autentica\u00e7\u00e3o: Token de qualquer usu\u00e1rio.</li> <li>Corpo da Requisi\u00e7\u00e3o: <pre><code>{\n  \"id_usuario\": 1,\n  \"codigo_sala\": \"B205\",\n  \"data\": \"2025-10-20\",\n  \"hora_inicio\": \"14:00\",\n  \"hora_fim\": \"15:00\",\n  \"numero_de_semanas\": 4\n}\n</code></pre></li> </ul>"},{"location":"api/autenticacao/","title":"API: Autentica\u00e7\u00e3o","text":""},{"location":"api/autenticacao/#realizar-login","title":"Realizar Login","text":"<ul> <li>Endpoint: <code>POST /auth/login</code></li> <li>Corpo da Requisi\u00e7\u00e3o: <pre><code>{\n  \"email\": \"admin@exemplo.com\",\n  \"senha\": \"admin123\"\n}\n</code></pre></li> <li>Resposta de Sucesso (<code>200 OK</code>): <pre><code>{\n    \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n</code></pre></li> </ul>"},{"location":"api/excecoes/","title":"API: Exce\u00e7\u00f5es","text":""},{"location":"api/excecoes/#criar-excecao-em-lote","title":"Criar Exce\u00e7\u00e3o (em Lote)","text":"<ul> <li>Endpoint: <code>POST /excecoes</code></li> <li>Autentica\u00e7\u00e3o: Token de Admin.</li> <li>Corpo da Requisi\u00e7\u00e3o: <pre><code>{\n  \"motivo\": \"Feriado Municipal\",\n  \"tipo\": \"BLOQUEIO\",\n  \"escopo\": \"BLOCO\",\n  \"bloco\": \"B\",\n  \"inicio\": \"2025-11-15T00:00:00\",\n  \"fim\": \"2025-11-15T23:59:59\"\n}\n</code></pre></li> </ul>"},{"location":"api/recursos/","title":"API: Recursos","text":""},{"location":"api/recursos/#criar-recurso","title":"Criar Recurso","text":"<ul> <li>Endpoint: <code>POST /recursos</code></li> <li>Autentica\u00e7\u00e3o: Token de Admin.</li> <li>Corpo da Requisi\u00e7\u00e3o: <pre><code>{\n  \"nome_recurso\": \"Projetor Multim\u00eddia\"\n}\n</code></pre></li> </ul>"},{"location":"api/recursos/#associar-recurso-a-sala","title":"Associar Recurso a Sala","text":"<ul> <li>Endpoint: <code>POST /recursos/associar-sala</code></li> <li>Autentica\u00e7\u00e3o: Token de Admin.</li> <li>Corpo da Requisi\u00e7\u00e3o: <pre><code>{\n  \"id_recurso\": 1,\n  \"codigo_sala\": \"A101\",\n  \"quantidade\": 1\n}\n</code></pre></li> </ul>"},{"location":"api/salas/","title":"API: Salas","text":""},{"location":"api/salas/#criar-sala","title":"Criar Sala","text":"<ul> <li>Endpoint: <code>POST /salas</code></li> <li>Autentica\u00e7\u00e3o: Token de Admin.</li> <li>Corpo da Requisi\u00e7\u00e3o: <pre><code>{\n  \"codigo\": \"B205\",\n  \"capacidade\": 8,\n  \"bloco\": \"B\",\n  \"tipo\": \"Videoconfer\u00eancia\",\n  \"horario_abertura\": \"09:00:00\",\n  \"horario_fechamento\": \"18:00:00\",\n  \"disponivel_sabado\": false,\n  \"disponivel_domingo\": false,\n  \"ativa\": true,\n  \"foto_url\": \"[https://exemplo.com/foto.jpg](https://exemplo.com/foto.jpg)\"\n}\n</code></pre></li> </ul>"},{"location":"api/salas/#listar-salas","title":"Listar Salas","text":"<ul> <li>Endpoint: <code>GET /salas</code></li> <li>Autentica\u00e7\u00e3o: Token de qualquer usu\u00e1rio.</li> </ul>"},{"location":"api/usuarios/","title":"API: Usu\u00e1rios","text":""},{"location":"api/usuarios/#criar-usuario","title":"Criar Usu\u00e1rio","text":"<ul> <li>Endpoint: <code>POST /usuarios</code></li> <li>Corpo da Requisi\u00e7\u00e3o: <pre><code>{\n  \"nome\": \"Fulano de Tal\",\n  \"email\": \"fulano@exemplo.com\",\n  \"senha\": \"uma_senha_forte\",\n  \"confirmar_senha\": \"uma_senha_forte\"\n}\n</code></pre></li> <li>Resposta de Sucesso (<code>201 Created</code>): Objeto do usu\u00e1rio criado.</li> </ul>"}]}